<!DOCTYPE HTML>
<html lang="en-US">
<head>
	<meta charset="UTF-8">
	<title>Storagify, Simple HTML5 Page Edits</title>
	
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
	
	<link rel="stylesheet" href="http://twitter.github.com/bootstrap/assets/css/bootstrap-1.2.0.css" />
	<link rel="stylesheet" href="css/application.css" />
</head>
<body>
	<div class="container storagify">
		<div class="storagify-header">
			<img src="images/storagify-logo.png" alt="Storagify, Simple HTML5 Page Edits" />
			<h2 class="awesome">Simple HTML5 page edits. Storagify uses the new HTML5 <code>contenteditable</code> attribute and <code>localStorage</code> to bring you HTML5 awesomeness.</h2>
		</div>
		<div class="example">
			<h2>I am an example, click me!</h2>
		    <p class="editable"><b>So am I, click me too!</b> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer nec odio. Praesent libero. Sed cursus ante dapibus diam. Sed nisi. Nulla quis sem at nibh elementum imperdiet. Duis sagittis ipsum. Praesent mauris. Fusce nec tellus sed augue semper porta. Mauris massa. Vestibulum lacinia arcu eget nulla. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Curabitur sodales ligula in libero. Sed dignissim lacinia nunc. Curabitur tortor. Pellentesque nibh. Aenean quam. In scelerisque sem at dolor. Maecenas mattis. Sed convallis tristique sem. Proin ut ligula vel nunc egestas porttitor. Morbi lectus risus, iaculis vel, suscipit quis, luctu.</p>
			<h3 class="me-too" id="refresh">I'm another example. Go ahead, click me to change my text, click somewhere random on the page then refresh the browser.<span style="font-size:21px;"> My text will still say what you just changed it too a few seconds ago!</span></h3><h3 class="me-too">Now try this...<br /><br /></h3><h3 class="me-too" id="quit">Go ahead, click me to change my text again then click somewhere random on the page. After that, quit your browser, that's right quit it! Next, come back to this page ... <span style="font-size:21px;">notice how my text is still what you just changed it too!</span> </h3>
			<h3 class="me-too" id="onStart">I'm an example of the onStart function. Click me to change my text! </h3>
			<h3 class="me-too" id="onExit">I'm an example of the onExit function. Click me to change my text, then click somewhere random on the page to see me in action. </h3>
			<h3 class="me-too" id="onStartExit">I'm an example of both the onStart <span> &amp;</span> onExit functions. Click me to change my text, then click somewhere random on the page to see me in action. </h3>
			<h3 class="me-too" id="revert">I'm an example of the revert option. Click me to change my text then click somewhere random on the page. <span style="font-size:21px;"><br /> I am unique because my text isn't persistent across browser refreshes. You can still edit my text though, and it will remain what you just changed it too, but only until the next time you refresh your browser . </span></h3>
		</div>
		<div class="api-options" id="api-options">
				<h2 class="storagify-usage-header" style="text-align:left;">API &amp; Options</h2>

				<table class="zebra-striped" id="apiTable">
				        <thead>
				          <tr>
				            <th>Option</th>
				            <th>Type</th>
				            <th>Default</th>
							<th>Description</th>
				          </tr>
				        </thead>
				        <tbody>
				          <tr>
				            <td>storageKey</td>
				            <td>String</td>
				            <td>'storageKey'</td>
				            <td>This will be the elements key in localStorage</td>
				          </tr>
				          <tr>
				            <td>onStart
								<br />
								<br />
								<ul>
									<li>elem</li>
									<li>text</li>
								</ul>
							</td>
				            <td>Function
								<br />
								<br />
								<ul>
									<li>Parameter</li>
									<li>Parameter</li>
								</ul>
							</td>
				            <td>Nothing
								<br />
								<br />
								<ul>
									<li>Nothing</li>
									<li>Nothing</li>
								</ul>
							</td>
				            <td>This event is triggered when the the element has focus
					
								<br />
								<br />
								<ul>
									<li>An optional parameter of the onStart function that returns the current element as a 'jQuerified' Object</li>
									<li>An optional parameter of the onStart function that returns the current text of the element. </li>
								</ul>
							</td>
				          </tr>
				          <tr>
				            <td>onExit
								<br />
								<br />
								<ul>
									<li>elem</li>
									<li>text</li>
								</ul>
							</td>
				            <td>Function
								<br />
								<br />
								<ul>
									<li>Parameter</li>
									<li>Parameter</li>
								</ul>
							</td>
				            <td>Nothing
								<br />
								<br />
								<ul>
									<li>Nothing</li>
									<li>Nothing</li>
								</ul>
							</td>
				            <td>This event is triggered when the element has lost focus, when the user has clicked away from the element. Useful for doing AJAX request with the new value of the element.
								<br />
								<br />
								<ul>
									<li>An optional parameter of the onExit function that returns the current element as a 'jQuerified' Object</li>
									<li>An optional parameter of the onExit function that returns the current text of the element [As it may may have changed] </li>
								</ul>
							</td>
				          </tr>
						  <tr>
				            <td>revert</td>
				            <td>Boolean</td>
				            <td>false</td>
				            <td>When true, reverts the element's text back to what it was before become 'Storagified'</td>
				          </tr>
				        </tbody>
				 </table>
		</div>
		<div class="usage">
			<h2 class="storagify-usage-header">Usage</h2>
			<h3>First include the latest version of jQuery</h3>
			<code class="instructions">&lt;script src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"&gt;&lt;/script&gt;</code>
			<h3>Next, download and include Storagify</h3>
			<code class="instructions">&lt;script src="/path/to/jquery.storagify.min.js"&gt;&lt;/script&gt;</code>
			<h3>Last but not least, call Storagify on whatever elements you wish to editable.</h3>
			<code class="instructions">$('#theElement').storagify({storageKey:'storageKey'});</code>
			<ul>
			    <li><code>$('#element')</code> is the element you want the HTML5 <code>contentEditable</code> attribute to placed on</li>
			    <li>The 'storageKey' is what will the element's key will be in <code >localStorage</code></li>
				<li>For a list of options you can pass please refer to the <a href="#api-options" class="api-link">API &amp; Options section</a></li>
			</ul>
			<h2 class="storagify-done-instructions">That's it! Have Fun!</h2>
		</div>
		<div class="buttons">
			<div class="gitbuttons">
				<a class="btn large primary github button" href="https://github.com/ekdevdes/Storagify">Check it out on github</a>
				<a href="https://github.com/ekdevdes/Storagify" class="btn large button">Fork it on Github</a>
			</div>
			<div class="siteButtons">
				<a href="http://ek.alphaschildren.org/storagify/Storagify/jquery.storagify.js" class="btn small github button">Download Uncompressed Source <b>4+ KB</b> &darr;</a>
				<a href="http://ek.alphaschildren.org/storagify/Storagify/jquery.storagify.min.js" class="btn small github button">Download Compressed Source <b>4 KB</b> &darr;</a>
			</div>
		</div>
	</div>
	
	<script src="http://code.jquery.com/jquery-1.6rc1.min.js"></script>
	<script src="http://autobahn.tablesorter.com/jquery.tablesorter.min.js"></script>
	<script type="text/javascript" src="js/jquery.storagify.js?v=10"></script>
	<script type="text/javascript">
	</script>
	<script>
	
		$a = {}; // I keep common site-wide actions here
		$a.scrollTo = function (jQuerySelector,speed,offset,callback) {
		        var $selected = jQuery(jQuerySelector).eq(0);
		        if (!callback) callback = function() {};
		        if (offset === undefined) offset = 0;
		        if (speed === undefined) speed = 0;
		        jQuery('html, body').animate({
		                scrollTop: $selected.offset().top+offset
		        }, speed,callback);
		}
	</script>
	<script type="text/javascript">
		$('p.editable').storagify({
			storageKey:'exampleParagraph'
		});
		$('.example h2').filter(':first').storagify({
			storageKey:'exampleHeader'
		});
		$('#refresh').storagify({
			storageKey:'resfreshText'
		});
		$('#quit').storagify({
			storageKey:'quitText'
		});

		
		$('#onStart').storagify({
					storageKey:'onStartText',
					onStart:function(){
						
						//You can also optionally pass in the elem/text parameters, if you like
						
						var $this = $(this);
						
						$this.animate({opacity:1});
						
					}
				});
		
		
		$('#onExit').storagify({
			storageKey:'onExitText',
			onExit:function(){
				
				//You can also optionally pass in the elem/text parameters, if you like
				
				var $this = $(this);
				
				$this.animate({opacity:0.5});
				
			}
		}); 
		
		$('#onStartExit').storagify({
			storageKey:'onStartExitText',
			onStart:function(){
				
				//You can also optionally pass in the elem/text parameters, if you like
				
				var $this = $(this);
				
				$this.animate({opacity:0.5});
				
			},
			onExit:function(){
				var $this = $(this);
				
				$this.animate({opacity:1});
			}
		}); 
		
		$('#revert').storagify({
			storageKey:'revertKey',
			revert:true
		});
	
		$("table#apiTable").tablesorter({ sortList: [[1,0]] });
		
		$('a.api-link').click(function () {
		        $a.scrollTo('#api-options','fast',-50);
				return false;
		});
		
	</script>
</body>
</html>